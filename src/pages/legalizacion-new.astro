---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import ReparluxHeroSection from '../components/sections/ReparluxHeroSection.astro';
import ReparluxServicesSection from '../components/sections/ReparluxServicesSection.astro';
import ReparluxAdvantagesSection from '../components/sections/ReparluxAdvantagesSection.astro';
import IntroSection from '../components/sections/IntroSection.astro';
import ServicesSection from '../components/sections/ServicesSection.astro';
import LegalizationServicesSection from '../components/sections/LegalizationServicesSection.astro';
import Button from '../components/ui/Button.astro';
---

<BaseLayout 
  title="Legalización Eléctrica - SolSystems | Boletines CIE y Tramitación Oficial"
  description="Legalizamos tu instalación eléctrica de forma rápida y sin complicaciones. Boletines eléctricos CIE, tramitación ante Industria y distribuidoras. ¡Presupuesto en 2 horas!"
  includeLegalizationCSS={true}
>
  <!-- Header -->
  <Header transparent={true} />

  <!-- Hero Section estilo Reparlux -->
  <ReparluxHeroSection 
    title="Legalizamos tu instalación eléctrica de forma rápida y sin complicaciones"
    subtitle="¿Necesitas un boletín eléctrico? ¿Te han pedido legalizar una instalación? Estás en el lugar adecuado."
    ctaText="Solicitar presupuesto"
    price="Desde 150€"
    heroImage="/images/fondo.png"
  />

  <!-- Servicios de legalización específicos -->
  <LegalizationServicesSection />

  <!-- Proceso Section -->
  <section class="proceso-section" id="proceso">
    <!-- Header con imagen de fondo -->
    <div class="proceso-header">
      <div class="ast-container">
        <h2><span class="material-icons" style="vertical-align: middle; margin-right: 10px; color: #046bd2;">electrical_services</span>NOS ENCARGAMOS DE TODO PARA QUE TÚ NO TE PREOCUPES DE NADA</h2>
      </div>
    </div>

    <!-- Fila 1: Imagen izquierda, contenido derecha -->
    <div class="proceso-row">
      <div class="proceso-imagen">
        <img src="/images/sol.jpg" alt="Contacto inicial - SolSystems">
      </div>
      <div class="proceso-content">
        <div class="proceso-feature">
          <span class="material-icons">bolt</span>
          <div class="proceso-feature-content">
            <h4>Rápidos</h4>
            <p>Presupuesto sin compromiso en menos de 2 horas</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Fila 2: Contenido izquierda, imagen derecha -->
    <div class="proceso-row proceso-row-reverse">
      <div class="proceso-content">
        <div class="proceso-feature">
          <span class="material-icons">engineering</span>
          <div class="proceso-feature-content">
            <h4>Profesionales</h4>
            <p>Instaladores autorizados con amplia experiencia</p>
          </div>
        </div>
      </div>
      <div class="proceso-imagen">
        <img src="/images/sol.jpg" alt="Inspección técnica - SolSystems">
      </div>
    </div>

    <!-- Fila 3: Imagen izquierda, contenido derecha -->
    <div class="proceso-row">
      <div class="proceso-imagen">
        <img src="/images/sol.jpg" alt="Tramitación oficial - SolSystems">
      </div>
      <div class="proceso-content">
        <div class="proceso-feature">
          <span class="material-icons">payments</span>
          <div class="proceso-feature-content">
            <h4>Precios claros</h4>
            <p>Sin sorpresas, presupuestos cerrados</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Fila 4: Contenido izquierda, imagen derecha -->
    <div class="proceso-row proceso-row-reverse">
      <div class="proceso-content">
        <div class="proceso-feature">
          <span class="material-icons">person_pin</span>
          <div class="proceso-feature-content">
            <h4>Atención personalizada</h4>
            <p>Cada proyecto es único, como nuestro servicio</p>
          </div>
        </div>
      </div>
      <div class="proceso-imagen">
        <img src="/images/sol.jpg" alt="Atención personalizada - SolSystems">
      </div>
    </div>
  </section>

  <!-- Ventajas competitivas estilo Reparlux -->
  <ReparluxAdvantagesSection />


  <!-- Footer replica (Charlemos + Form) -->
  <div data-elementor-type="footer" data-elementor-id="3471" class="elementor elementor-3471 elementor-location-footer" data-elementor-post-type="elementor_library">
  <div class="footer-container" id="contacto" style="min-height: 700px !important;">
    <div class="footer-flex" style="align-items: flex-start !important; min-height: 800px; padding: 60px 40px;">
      <div class="footer-left" style="margin-left: 30px; display: flex; flex-direction: column; justify-content: flex-start;">
        <!-- Charlemos Section -->
        <div class="charlemos-section">
          <h2 class="charlemos-title" style="font-weight: 550 !important; font-family: 'Montserrat', sans-serif !important;">Charlemos</h2>
          <p class="charlemos-subtitle">Démonos el tiempo necesario para descubrir todas las posibilidades para ayudarte a crecer.</p>
          
          <!-- Teléfono -->
          <div class="contact-item">
            <div class="contact-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <g id="local_phone" clip-path="url(#clip0_375_479)">
                  <path id="Vector" d="M6.54 5C6.6 5.89 6.75 6.76 6.99 7.59L5.79 8.79C5.38 7.59 5.12 6.32 5.03 5H6.54ZM16.4 17.02C17.25 17.26 18.12 17.41 19 17.47V18.96C17.68 18.87 16.41 18.61 15.2 18.21L16.4 17.02ZM7.5 3H4C3.45 3 3 3.45 3 4C3 13.39 10.61 21 20 21C20.55 21 21 20.55 21 20V16.51C21 15.96 20.55 15.51 20 15.51C18.76 15.51 17.55 15.31 16.43 14.94C16.33 14.9 16.22 14.89 16.12 14.89C15.86 14.89 15.61 14.99 15.41 15.18L13.21 17.38C10.38 15.93 8.06 13.62 6.62 10.79L8.82 8.59C9.1 8.31 9.18 7.92 9.07 7.57C8.7 6.45 8.5 5.25 8.5 4C8.5 3.45 8.05 3 7.5 3Z" fill="#53C307"/>
                </g>
                <defs>
                  <clipPath id="clip0_375_479">
                    <rect width="24" height="24" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
            </div>
            <div class="contact-content">
              <h3 class="contact-title">Teléfono</h3>
              <p class="contact-description">
                Madrid: +34 656 701 824<br>
                Barcelona: +34 695 047 081
              </p>
            </div>
          </div>
          
          <!-- Direcciones en layout horizontal -->
          <div class="footer-direccion" style="gap: 10px;">
            <!-- Dirección Madrid -->
            <div class="contact-item">
              <div class="contact-icon">
                <a href="https://maps.app.goo.gl/RrjkScc9ZkntvZkUA" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="23" viewBox="0 0 20 23" fill="none">
                    <path id="Sustracción 2" d="M9.99949 21.9971C8.3757 20.9076 6.86864 19.6676 5.50026 18.2953C4.29588 17.111 3.25611 15.7837 2.40652 14.3462C1.5268 12.8984 1.0431 11.2626 1 9.58947C1 7.3114 1.94821 5.12664 3.63604 3.5158C5.32387 1.90496 7.61305 1 10 1C12.3869 1 14.6761 1.90496 16.364 3.5158C18.0518 5.12664 19 7.3114 19 9.58947C18.9569 11.2626 18.4732 12.8984 17.5935 14.3462C16.7441 15.7847 15.7043 17.113 14.4997 18.2983C13.1314 19.6705 11.6243 20.9105 10.0005 22L9.99949 21.9971ZM9.91273 6.29396C9.23483 6.29396 8.57216 6.48581 8.00851 6.84525C7.44486 7.20469 7.00555 7.71557 6.74613 8.3133C6.48671 8.91103 6.41884 9.56875 6.55109 10.2033C6.68334 10.8378 7.00978 11.4207 7.48912 11.8782C7.96846 12.3357 8.57919 12.6472 9.24406 12.7734C9.90893 12.8996 10.5981 12.8349 11.2244 12.5873C11.8507 12.3397 12.386 11.9204 12.7626 11.3825C13.1392 10.8445 13.3402 10.2121 13.3402 9.56512C13.3392 8.69787 12.9777 7.86644 12.3351 7.2532C11.6926 6.63996 10.8214 6.29499 9.91273 6.29396Z" fill="#53C307" stroke="#53C307" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </div>
              <div class="contact-content">
                <h3 class="contact-title">
                  <a href="https://maps.app.goo.gl/RrjkScc9ZkntvZkUA" target="_blank">Dirección:</a>
                </h3>
                <p class="contact-description">
                  Calle Físicas 40, 28923<br>
                  Alcorcón, Madrid
                </p>
              </div>
            </div>
            
            <!-- Dirección Barcelona -->
            <div class="contact-item">
              <div class="contact-icon">
                <a href="https://maps.app.goo.gl/eHtQZwjHxps3XAxe7" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="23" viewBox="0 0 20 23" fill="none">
                    <path id="Sustracción 2" d="M9.99949 21.9971C8.3757 20.9076 6.86864 19.6676 5.50026 18.2953C4.29588 17.111 3.25611 15.7837 2.40652 14.3462C1.5268 12.8984 1.0431 11.2626 1 9.58947C1 7.3114 1.94821 5.12664 3.63604 3.5158C5.32387 1.90496 7.61305 1 10 1C12.3869 1 14.6761 1.90496 16.364 3.5158C18.0518 5.12664 19 7.3114 19 9.58947C18.9569 11.2626 18.4732 12.8984 17.5935 14.3462C16.7441 15.7847 15.7043 17.113 14.4997 18.2983C13.1314 19.6705 11.6243 20.9105 10.0005 22L9.99949 21.9971ZM9.91273 6.29396C9.23483 6.29396 8.57216 6.48581 8.00851 6.84525C7.44486 7.20469 7.00555 7.71557 6.74613 8.3133C6.48671 8.91103 6.41884 9.56875 6.55109 10.2033C6.68334 10.8378 7.00978 11.4207 7.48912 11.8782C7.96846 12.3357 8.57919 12.6472 9.24406 12.7734C9.90893 12.8996 10.5981 12.8349 11.2244 12.5873C11.8507 12.3397 12.386 11.9204 12.7626 11.3825C13.1392 10.8445 13.3402 10.2121 13.3402 9.56512C13.3392 8.69787 12.9777 7.86644 12.3351 7.2532C11.6926 6.63996 10.8214 6.29499 9.91273 6.29396Z" fill="#53C307" stroke="#53C307" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </div>
              <div class="contact-content">
                <h3 class="contact-title">
                  <a href="https://maps.app.goo.gl/eHtQZwjHxps3XAxe7" target="_blank">Dirección:</a>
                </h3>
                <p class="contact-description">
                  Passeig (Paseo) de les Vilares 14 B, 1-1,<br>
                  08390 Montgat, Barcelona
                </p>
              </div>
            </div>
          </div>
          
          <!-- Mapa de España -->
          <div class="spain-map" style="max-width: 500px; margin-top: 40px;">
            <img src="/images/mapa.webp" alt="Mapa de España" class="map-image" style="width: 100%; height: auto;">
          </div>
        </div>
      </div>

      <div class="footer-right" style="display: flex !important; flex-direction: column !important; justify-content: flex-start !important; align-items: stretch !important;">
        <!-- Formulario presupuesto -->
        <div class="elementor-element elementor-element-146699fd e-con-full e-flex e-con e-child" data-id="146699fd" data-element_type="container" id="form" data-settings='{"content_width":"full"}'>
          <div class="elementor-element elementor-element-2af09bbc elementor-widget elementor-widget-heading" data-id="2af09bbc" data-element_type="widget" data-widget_type="heading.default">
            <div class="elementor-widget-container">
              <h2 class="elementor-heading-title elementor-size-default" style="font-weight: 550 !important; font-family: 'Montserrat', sans-serif !important;">Solicita un presupuesto personalizado</h2>
            </div>
          </div>
          <div class="elementor-element elementor-element-1dc91d20 elementor-widget__width-initial elementor-widget elementor-widget-text-editor" data-id="1dc91d20" data-element_type="widget" data-widget_type="text-editor.default">
            <div class="elementor-widget-container">
              <p>Rellena los datos del formulario para ponernos en contacto contigo lo antes posible, con un presupuesto adaptado a tus necesidades.</p>
            </div>
          </div>
          <div class="elementor-element elementor-element-46a1ba81 elementor-button-align-center elementor-widget elementor-widget-form" data-id="46a1ba81" data-element_type="widget" data-settings='{"step_next_label":"Next","step_previous_label":"Previous","button_width":"100","step_type":"number_text","step_icon_shape":"circle"}' data-widget_type="form.default">
            <div class="elementor-widget-container">
              <div class="footer-form-card">
                <form class="elementor-form" method="post" name="form_footer" id="contact-form">
                  <input type="hidden" name="post_id" value="3471"/>
                  <input type="hidden" name="form_id" value="46a1ba81"/>
                  <input type="hidden" name="referer_title" value=""/>
                  <input type="hidden" name="queried_id" value="2"/>
                  <input type="hidden" name="form_source" value="legalizacion"/>

                  <div class="elementor-form-fields-wrapper elementor-labels-above">
                    <div class="elementor-field-type-text elementor-field-group elementor-column elementor-field-group-name elementor-col-100 elementor-field-required">
                      <input size="1" type="text" name="name" id="form-field-name" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Nombre*" required aria-required="true">
                    </div>
                    <div class="elementor-field-type-email elementor-field-group elementor-column elementor-field-group-email elementor-col-100 elementor-field-required">
                      <input size="1" type="email" name="email" id="form-field-email" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Correo electrónico*" required aria-required="true">
                    </div>
                   
                    <div class="form-row">
                      <div class="elementor-field-type-text elementor-field-group elementor-column elementor-field-group-message elementor-col-50 elementor-field-required">
                        <input size="1" type="text" name="address" id="form-field-address" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Dirección*" required aria-required="true">
                      </div>
                      <div class="elementor-field-type-text elementor-field-group elementor-column elementor-field-group-field_fa347bd elementor-col-50">
                        <input size="1" type="text" name="timeFrame" id="form-field-timeframe" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Franja horaria">
                      </div>
                    </div>
                   
                    <div class="form-row">
                      <div class="elementor-field-type-text elementor-field-group elementor-column elementor-field-group-field_2d82f0a elementor-col-50 elementor-field-required">
                        <input size="1" type="text" name="postalCode" id="form-field-postal" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Co. Postal*" required aria-required="true">
                      </div>
                      <div class="elementor-field-type-tel elementor-field-group elementor-column elementor-field-group-field_cfaaf23 elementor-col-50 elementor-field-required">
                        <input size="1" type="tel" name="phone" id="form-field-phone" class="elementor-field elementor-size-sm  elementor-field-textual" placeholder="Teléfono*" required aria-required="true" pattern="[0-9()#&+*-=.]+" title="Only numbers and phone characters (#, -, *, etc) are accepted.">
                      </div>
                    </div>
                    
                    <div class="elementor-field-type-textarea elementor-field-group elementor-column elementor-field-group-field_72b7372 elementor-col-100">
                      <textarea class="elementor-field-textual elementor-field  elementor-size-sm" name="message" id="form-field-message" rows="4" placeholder="Tu consulta"></textarea>
                    </div>
                    <div class="elementor-field-type-acceptance elementor-field-group elementor-column elementor-field-group-field_24cb135 elementor-col-100 elementor-field-required">
                      <div class="elementor-field-subgroup">
                        <span class="elementor-field-option">
                          <input type="checkbox" name="acceptedTerms" id="form-field-terms" class="elementor-field elementor-size-sm  elementor-acceptance-field" required aria-required="true">
                          <label for="form-field-terms">Acepto los términos y condiciones</label>
                        </span>
                      </div>
                    </div>
                    <div class="elementor-field-group elementor-column elementor-field-type-submit elementor-col-100 e-form__buttons">
                      <button type="submit" id="submit-btn" class="elementor-button elementor-size-sm elementor-animation-grow" style="width: 100%; padding: 15px 40px; min-width: 200px;">
                        <span>
                          <span class="elementor-button-icon"></span>
                          <span class="elementor-button-text" id="submit-text">Enviar</span>
                        </span>
                      </button>
                    </div>
                    
                    <!-- Messages for success/error feedback -->
                    <div id="form-message" class="form-message" style="display: none; margin-top: 15px; padding: 10px; border-radius: 5px; text-align: center;"></div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/+34656701824" target="_blank" class="whatsapp-button" title="WhatsApp - Presupuesto inmediato">
    <img src="/images/whatsapp-icon.svg" alt="WhatsApp" style="width: 35px; height: 35px;">
  </a>
</BaseLayout>
